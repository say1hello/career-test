<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ü—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç 12‚Äì18 (–∞–≤—Ç–æ–ø–æ–¥—Å—á—ë—Ç)</title>
  <style>
    :root{--bg:#0b0f19;--card:#121a2a;--muted:#9fb0c7;--text:#eaf0ff;--accent:#7aa2ff;--ok:#57d19b;--warn:#ffd166;--bad:#ff6b6b;}
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0b0f19 0%,#070a12 100%);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;}
    .wrap{max-width:980px;margin:0 auto;padding:24px;}
    h1{font-size:28px;margin:0 0 8px;}
    p{color:var(--muted);margin:8px 0 0;line-height:1.45}
    .grid{display:grid;grid-template-columns:1fr;gap:16px;margin-top:18px;}
    .card{background:rgba(18,26,42,.92);border:1px solid rgba(122,162,255,.18);border-radius:16px;padding:18px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between}
    .badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid rgba(122,162,255,.25);color:var(--muted);font-size:12px}
    .progress{height:10px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden}
    .progress > div{height:100%;width:0;background:linear-gradient(90deg,var(--accent),#a88bff);transition:width .25s ease}
    .q{padding:12px 0;border-top:1px dashed rgba(255,255,255,.10)}
    .q:first-child{border-top:none;padding-top:0}
    .qtext{font-size:15px;margin:0 0 10px}
    .scale{display:flex;gap:8px;flex-wrap:wrap}
    .opt{position:relative}
    .opt input{position:absolute;opacity:0;pointer-events:none}
    .opt label{display:inline-flex;align-items:center;justify-content:center;min-width:44px;height:38px;padding:0 10px;border-radius:12px;border:1px solid rgba(255,255,255,.14);color:var(--text);cursor:pointer;user-select:none;background:rgba(255,255,255,.04)}
    .opt input:checked + label{border-color:rgba(122,162,255,.8);box-shadow:0 0 0 3px rgba(122,162,255,.15) inset;background:rgba(122,162,255,.12)}
    .btn{appearance:none;border:none;border-radius:14px;padding:12px 14px;background:linear-gradient(90deg,var(--accent),#a88bff);color:#0b0f19;font-weight:700;cursor:pointer}
    .btn:disabled{opacity:.55;cursor:not-allowed}
    .btn2{appearance:none;border:1px solid rgba(255,255,255,.16);border-radius:14px;padding:12px 14px;background:rgba(255,255,255,.04);color:var(--text);font-weight:650;cursor:pointer}
    .split{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:860px){.split{grid-template-columns:1.1fr .9fr}}
    .kpi{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;margin-top:10px}
    .kpi > div{padding:12px;border-radius:14px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.10)}
    .kpi .t{color:var(--muted);font-size:12px;margin-bottom:4px}
    .kpi .v{font-size:18px;font-weight:800}
    .bars{display:grid;gap:10px;margin-top:10px}
    .bar{display:grid;grid-template-columns:140px 1fr 52px;gap:10px;align-items:center}
    .bar .name{color:var(--muted);font-size:13px}
    .bar .meter{height:10px;border-radius:999px;background:rgba(255,255,255,.08);overflow:hidden}
    .bar .meter > div{height:100%;width:0;background:linear-gradient(90deg,#57d19b,#7aa2ff);transition:width .25s ease}
    .bar .val{font-variant-numeric:tabular-nums;color:var(--text);text-align:right}
    .pill{display:inline-flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .pill span{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.10);color:var(--text);font-size:12px}
    .small{font-size:12px;color:var(--muted)}
    .hidden{display:none}
    a{color:var(--accent)}
    .footer{margin-top:16px;color:var(--muted);font-size:12px;line-height:1.35}
    textarea{width:100%;min-height:90px;border-radius:14px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.03);color:var(--text);padding:12px;resize:vertical}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="row">
      <div>
        <h1>–ü—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç 12‚Äì18</h1>
        <p>–ê–≤—Ç–æ–ø–æ–¥—Å—á—ë—Ç + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏—è–º –∏ –≤—É–∑–∞–º/—Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞–º (–±–µ–∑ –≥–∞–¥–∞–Ω–∏–π, –ø–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏ –∏ –ø—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏).</p>
      </div>
      <div class="badge" id="statusBadge">–ó–∞–ø–æ–ª–Ω–µ–Ω–æ: <b id="doneCount">0</b>/<span id="totalCount">0</span></div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="row">
          <div>
            <div class="badge">–®–∫–∞–ª–∞: 1 ‚Äî —Å–æ–≤—Å–µ–º –Ω–µ –ø—Ä–æ –º–µ–Ω—è ‚Ä¶ 5 ‚Äî —Ç–æ—á–Ω–æ –ø—Ä–æ –º–µ–Ω—è</div>
          </div>
          <div style="min-width:240px;flex:1">
            <div class="progress" aria-label="–ü—Ä–æ–≥—Ä–µ—Å—Å">
              <div id="progressFill"></div>
            </div>
          </div>
        </div>
        <div class="footer">‚ö†Ô∏è –í–∞–∂–Ω–æ: —Ç–µ—Å—Ç –¥–∞—ë—Ç <b>–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</b> –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã, –∞ –Ω–µ ¬´–ø—Ä–∏–≥–æ–≤–æ—Ä¬ª. –ò–¥–µ–∞–ª—å–Ω–æ ‚Äî –æ–±—Å—É–¥–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —Ä–æ–¥–∏—Ç–µ–ª–µ–º/–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–º –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å 1‚Äì2 –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç–∞ –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ñ–µ—Ä–∞—Ö.</div>
      </div>

      <div class="split">
        <div class="card" id="testCard">
          <h2 style="margin:0 0 6px;font-size:18px">–í–æ–ø—Ä–æ—Å—ã</h2>
          <p class="small" style="margin-top:0">–û—Ç–≤–µ—á–∞–π –±—ã—Å—Ç—Ä–æ –∏ —á–µ—Å—Ç–Ω–æ. –ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è ‚Äî —Å—Ç–∞–≤—å 3.</p>
          <div id="questions"></div>
          <div class="row" style="margin-top:14px">
            <button class="btn2" id="btnReset" type="button">–°–±—Ä–æ—Å–∏—Ç—å</button>
            <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
              <button class="btn" id="btnResult" type="button" disabled>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
            </div>
          </div>
        </div>

        <div class="card hidden" id="resultCard">
          <div class="row">
            <h2 style="margin:0;font-size:18px">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
            <button class="btn2" id="btnBack" type="button">–ù–∞–∑–∞–¥ –∫ –≤–æ–ø—Ä–æ—Å–∞–º</button>
          </div>

          <div class="kpi" aria-label="–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã">
            <div>
              <div class="t">–ü—Ä–æ—Ñ–∏–ª—å —Å—Ä–µ–¥—ã (–¢–û–ü)</div>
              <div class="v" id="topRIASEC">‚Äî</div>
            </div>
            <div>
              <div class="t">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ö–ª–∏–º–æ–≤–∞ (–¢–û–ü)</div>
              <div class="v" id="topKlimov">‚Äî</div>
            </div>
            <div>
              <div class="t">–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã (–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—ã)</div>
              <div class="v" id="topIntel">‚Äî</div>
            </div>
            <div>
              <div class="t">–ú–æ—Ç–∏–≤–∞—Ü–∏—è (—á—Ç–æ –≤–∞–∂–Ω–æ)</div>
              <div class="v" id="topMot">‚Äî</div>
            </div>
          </div>

          <h3 style="margin:14px 0 6px;font-size:15px">–ë–∞–ª–ª—ã –ø–æ –ø—Ä–æ—Ñ—Å—Ä–µ–¥–µ (RIASEC)</h3>
          <div class="bars" id="barsRIASEC"></div>

          <h3 style="margin:14px 0 6px;font-size:15px">–ë–∞–ª–ª—ã –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º (–ö–ª–∏–º–æ–≤)</h3>
          <div class="bars" id="barsKlimov"></div>

          <h3 style="margin:14px 0 6px;font-size:15px">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h3>
          <div class="pill" id="recPills"></div>
          <div id="recText" style="margin-top:10px;line-height:1.45;color:var(--text)"></div>

          <h3 style="margin:14px 0 6px;font-size:15px">–ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ (—á—Ç–æ–±—ã –≤—ã–±–æ—Ä —Å—Ç–∞–ª —É–≤–µ—Ä–µ–Ω–Ω–µ–µ)</h3>
          <ul style="margin:8px 0 0 18px;color:var(--muted);line-height:1.45">
            <li>–í—ã–±–µ—Ä–∏ 1‚Äì2 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏ —Å–¥–µ–ª–∞–π –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç –Ω–∞ 7‚Äì10 –¥–Ω–µ–π.</li>
            <li>–ü—Ä–æ–≤–µ—Ä—å, –∫–∞–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã –ï–ì–≠/–≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–µ —á–∞—â–µ –≤—Å–µ–≥–æ –Ω—É–∂–Ω—ã –ø–æ–¥ —ç—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è.</li>
            <li>–ü–æ–≥–æ–≤–æ—Ä–∏ —Å 1‚Äì2 –≤–∑—Ä–æ—Å–ª—ã–º–∏ –∏–∑ —ç—Ç–æ–π —Å—Ñ–µ—Ä—ã (–∏–Ω—Ç–µ—Ä–≤—å—é –Ω–∞ 15 –º–∏–Ω—É—Ç: ¬´—á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –¥–µ–ª–∞—é—Ç –Ω–∞ —Ä–∞–±–æ—Ç–µ?¬ª).</li>
          </ul>

          <h3 style="margin:14px 0 6px;font-size:15px">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç</h3>
          <textarea id="report" readonly></textarea>
          <div class="row" style="margin-top:10px">
            <button class="btn" id="btnCopy" type="button">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            <span class="small" id="copyHint"></span>
          </div>

          <h3 style="margin:14px 0 6px;font-size:15px">–ï–ì–≠: –∫–∞–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã —á–∞—â–µ –≤—Å–µ–≥–æ –Ω—É–∂–Ω—ã</h3>
          <p class="small" style="margin:0">–≠—Ç–æ –ø–æ–¥—Å–∫–∞–∑–∫–∞ ¬´–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é¬ª. –¢–æ—á–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤—É–∑–∞ –∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã ‚Äî –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –Ω–∞ —Å–∞–π—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≤—É–∑–∞.</p>
          <div class="pill" id="egePills" style="margin-top:10px"></div>
          <div id="egeText" style="margin-top:10px;line-height:1.45;color:var(--text)"></div>

        </div>
      </div>

    </div>
  </div>

<script>
  // -----------------------------
  // –î–ê–ù–ù–´–ï –¢–ï–°–¢–ê
  // -----------------------------
  // –í–æ–ø—Ä–æ—Å—ã 1‚Äì40 (–∫–∞–∫ –≤ –ø–µ—Ä–µ–ø–∏—Å–∫–µ), —Å –ø—Ä–∏–≤—è–∑–∫–∞–º–∏ –∫ —à–∫–∞–ª–∞–º.
  // –ú—ã —Å—á–∏—Ç–∞–µ–º: RIASEC, –ö–ª–∏–º–æ–≤ (5 —Ç–∏–ø–æ–≤), –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—ã (–ì–∞—Ä–¥–Ω–µ—Ä), –ú–æ—Ç–∏–≤–∞—Ü–∏–∏, –°—Ç–∏–ª—å.

  const SCALE = [1,2,3,4,5];

  // –ú–µ—Ç–∫–∏ —à–∫–∞–ª
  const RIASEC_LABELS = {
    R: 'R ‚Äî –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π (–ø—Ä–∞–∫—Ç–∏–∫–∞/—Ç–µ—Ö–Ω–∏–∫–∞)',
    I: 'I ‚Äî –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π (–∞–Ω–∞–ª–∏–∑/–Ω–∞—É–∫–∞/IT)',
    A: 'A ‚Äî –ê—Ä—Ç–∏—Å—Ç–∏—á–Ω—ã–π (—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ/–º–µ–¥–∏–∞)',
    S: 'S ‚Äî –°–æ—Ü–∏–∞–ª—å–Ω—ã–π (–ª—é–¥–∏/–ø–æ–º–æ—â—å)',
    E: 'E ‚Äî –ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å–∫–∏–π (–ª–∏–¥–µ—Ä—Å—Ç–≤–æ/–±–∏–∑–Ω–µ—Å)',
    C: 'C ‚Äî –ö–æ–Ω–≤–µ–Ω—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π (–ø–æ—Ä—è–¥–æ–∫/—Å–∏—Å—Ç–µ–º–Ω–æ—Å—Ç—å)'
  };

  const KLIMOV_LABELS = {
    HH: '–ß–µ–ª–æ–≤–µ–∫‚Äì—á–µ–ª–æ–≤–µ–∫',
    HT: '–ß–µ–ª–æ–≤–µ–∫‚Äì—Ç–µ—Ö–Ω–∏–∫–∞',
    HN: '–ß–µ–ª–æ–≤–µ–∫‚Äì–ø—Ä–∏—Ä–æ–¥–∞',
    HS: '–ß–µ–ª–æ–≤–µ–∫‚Äì–∑–Ω–∞–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞',
    HA: '–ß–µ–ª–æ–≤–µ–∫‚Äì—Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–±—Ä–∞–∑'
  };

  const INTEL_LABELS = {
    LOG: '–õ–æ–≥–∏–∫–æ-–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π',
    VERB: '–í–µ—Ä–±–∞–ª—å–Ω—ã–π (—Ä–µ—á—å/—Ç–µ–∫—Å—Ç—ã)',
    INTER: '–ú–µ–∂–ª–∏—á–Ω–æ—Å—Ç–Ω—ã–π',
    INTRA: '–í–Ω—É—Ç—Ä–∏–ª–∏—á–Ω–æ—Å—Ç–Ω—ã–π',
    VIS: '–í–∏–∑—É–∞–ª—å–Ω–æ-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π',
    KIN: '–¢–µ–ª–µ—Å–Ω–æ-–∫–∏–Ω–µ—Å—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π',
    MUS: '–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π'
  };

  const MOT_LABELS = {
    MONEY: '–î–µ–Ω—å–≥–∏/–¥–æ—Ö–æ–¥',
    MEANING: '–°–º—ã—Å–ª/–ø–æ–ª—å–∑–∞',
    STATUS: '–°—Ç–∞—Ç—É—Å/–ø—Ä–∏–∑–Ω–∞–Ω–∏–µ',
    FREEDOM: '–°–≤–æ–±–æ–¥–∞/–≥–∏–±–∫–æ—Å—Ç—å',
    GROWTH: '–†–∞–∑–≤–∏—Ç–∏–µ/—Ä–æ—Å—Ç',
    STABILITY: '–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å',
    CREATIVITY: '–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ',
    POWER: '–í–ª–∏—è–Ω–∏–µ/—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ',
    CALM: '–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ/–Ω–∏–∑–∫–∏–π —Å—Ç—Ä–µ—Å—Å'
  };

  // –í–æ–ø—Ä–æ—Å—ã. –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∫–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç –∏ ¬´–≤–∫–ª–∞–¥—ã¬ª –≤ —à–∫–∞–ª—ã.
  // weights: {riasec:{R:1}, klimov:{HT:1}, intel:{KIN:1}, mot:{...:1}, style:{...:1}}

  const Q = [
    {id:1,  text:'–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —á–∏–Ω–∏—Ç—å, —Å–æ–±–∏—Ä–∞—Ç—å, —Ä–∞–∑–±–∏—Ä–∞—Ç—å, –ø–æ–Ω–∏–º–∞—Ç—å –∫–∞–∫ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç', weights:{riasec:{R:1}, klimov:{HT:1}}},
    {id:2,  text:'–Ø –ª—é–±–ª—é –ø–æ–º–æ–≥–∞—Ç—å –ª—é–¥—è–º, –æ–±—ä—è—Å–Ω—è—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å', weights:{riasec:{S:1}, klimov:{HH:1}}},
    {id:3,  text:'–ú–Ω–µ –≤–∞–∂–Ω–æ –ø—Ä–∏–¥—É–º—ã–≤–∞—Ç—å, —Å–æ–∑–¥–∞–≤–∞—Ç—å, –≤—ã—Ä–∞–∂–∞—Ç—å —Å–µ–±—è', weights:{riasec:{A:1}, klimov:{HA:1}, mot:{CREATIVITY:1}}},
    {id:4,  text:'–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –ø–æ—Ä—è–¥–æ–∫, —Ü–∏—Ñ—Ä—ã, —Ç–∞–±–ª–∏—Ü—ã, —á—ë—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏', weights:{riasec:{C:1}, klimov:{HS:1}}},
    {id:5,  text:'–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –¥–æ–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å—Å—è, —É–±–µ–∂–¥–∞—Ç—å, –±—ã—Ç—å –ª–∏–¥–µ—Ä–æ–º', weights:{riasec:{E:1}, klimov:{HH:1}, mot:{POWER:1, STATUS:0.5}}},
    {id:6,  text:'–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏, –ø—Ä–∏—Ä–æ–¥–æ–π, —Ä–∞—Å—Ç–µ–Ω–∏—è–º–∏', weights:{riasec:{R:0.5}, klimov:{HN:1}}},
    {id:7,  text:'–Ø –ª–µ–≥–∫–æ —É–≤–ª–µ–∫–∞—é—Å—å –Ω–æ–≤—ã–º–∏ –∏–¥–µ—è–º–∏ –∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏', weights:{riasec:{I:0.5, A:0.5, E:0.5}}},
    {id:8,  text:'–ú–Ω–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º', weights:{riasec:{C:1}, mot:{STABILITY:0.5}}},
    {id:9,  text:'–Ø –ª—é–±–ª—é –≤—ã—Å—Ç—É–ø–∞—Ç—å, —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å, –±—ã—Ç—å –Ω–∞ –≤–∏–¥—É', weights:{riasec:{E:0.5, A:0.5, S:0.5}, mot:{STATUS:1}}},
    {id:10, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ –≤–∏–¥–µ—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã', weights:{riasec:{R:0.5, C:0.5}, mot:{MONEY:0.25}}},

    {id:11, text:'–Ø –±—ã—Å—Ç—Ä–æ —Å—Ö–≤–∞—Ç—ã–≤–∞—é –ª–æ–≥–∏–∫—É –∏ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏', weights:{riasec:{I:1}, klimov:{HS:0.5}, intel:{LOG:1}}},
    {id:12, text:'–ú–Ω–µ –ª–µ–≥–∫–æ –≤—ã—Ä–∞–∂–∞—Ç—å –º—ã—Å–ª–∏ —Å–ª–æ–≤–∞–º–∏ (—É—Å—Ç–Ω–æ –∏–ª–∏ –ø–∏—Å—å–º–µ–Ω–Ω–æ)', weights:{intel:{VERB:1}, klimov:{HH:0.25, HS:0.25}}},
    {id:13, text:'–Ø —Ö–æ—Ä–æ—à–æ —á—É–≤—Å—Ç–≤—É—é –ª—é–¥–µ–π –∏ –∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ', weights:{riasec:{S:1}, intel:{INTER:1}, klimov:{HH:1}}},
    {id:14, text:'–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Ä—É–∫–∞–º–∏', weights:{riasec:{R:1}, intel:{KIN:1}, klimov:{HT:0.5}}},
    {id:15, text:'–Ø —Ö–æ—Ä–æ—à–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É—é—Å—å –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ, –∫–∞—Ä—Ç–∏–Ω–∫–∞—Ö, –æ–±—Ä–∞–∑–∞—Ö', weights:{riasec:{A:0.5, I:0.5}, intel:{VIS:1}, klimov:{HA:0.5}}},
    {id:16, text:'–ú—É–∑—ã–∫–∞ —Å–∏–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –º–µ–Ω—è', weights:{intel:{MUS:1}, riasec:{A:0.5}}},
    {id:17, text:'–Ø –ª—é–±–ª—é –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞–∑–º—ã—à–ª—è—Ç—å', weights:{riasec:{I:1}, intel:{LOG:0.5, INTRA:0.5}, klimov:{HS:0.5}}},
    {id:18, text:'–ú–Ω–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –æ–¥–∏–Ω–æ—á–∫—É', weights:{intel:{INTRA:1}, riasec:{I:0.25, C:0.25}}},
    {id:19, text:'–Ø –ª—é–±–ª—é —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –∫–æ–º–∞–Ω–¥–µ', weights:{riasec:{S:0.5, E:0.25}, intel:{INTER:0.5}}},
    {id:20, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å —Å–º—ã—Å–ª —Ç–æ–≥–æ, —á—Ç–æ —è –¥–µ–ª–∞—é', weights:{mot:{MEANING:1}, intel:{VERB:0.25, INTRA:0.5}}},

    {id:21, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏—è –ø—Ä–∏–Ω–æ—Å–∏–ª–∞ —Ö–æ—Ä–æ—à–∏–π –¥–æ—Ö–æ–¥', weights:{mot:{MONEY:1}}},
    {id:22, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞ –±—ã–ª–∞ –ø–æ–ª–µ–∑–Ω–æ–π –ª—é–¥—è–º', weights:{mot:{MEANING:1}, riasec:{S:0.5}, klimov:{HH:0.5}}},
    {id:23, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ –∏ —Å—Ç–∞—Ç—É—Å', weights:{mot:{STATUS:1}}},
    {id:24, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è –∏ –≥–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫', weights:{mot:{FREEDOM:1}}},
    {id:25, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ —Ä–∞–∑–≤–∏—Ç–∏–µ –∏ —Ä–æ—Å—Ç', weights:{mot:{GROWTH:1}}},
    {id:26, text:'–ú–Ω–µ –≤–∞–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å', weights:{mot:{STABILITY:1}, riasec:{C:0.25}}},
    {id:27, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ', weights:{mot:{CREATIVITY:1}, riasec:{A:0.5}}},
    {id:28, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ –≤–ª–∏—è–Ω–∏–µ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª—è—Ç—å', weights:{mot:{POWER:1}, riasec:{E:0.5}}},
    {id:29, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä–µ—Å—Å–∞', weights:{mot:{CALM:1}}},
    {id:30, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞ –±—ã–ª–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–ª–æ–∂–Ω–æ', weights:{mot:{GROWTH:0.5, MEANING:0.5}}},

    {id:31, text:'–Ø –ª—é–±–ª—é, –∫–æ–≥–¥–∞ –µ—Å—Ç—å —á—ë—Ç–∫–∏–π –ø–ª–∞–Ω', weights:{style:{STRUCTURE:1}}},
    {id:32, text:'–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç—å –∏ –ø–æ–∏—Å–∫', weights:{style:{EXPLORER:1}}},
    {id:33, text:'–Ø –¥–æ–≤–æ–∂—É –¥–µ–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞', weights:{style:{FINISHER:1}}},
    {id:34, text:'–ú–Ω–µ —Å–ª–æ–∂–Ω–æ –¥–æ–ª–≥–æ –¥–µ–ª–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ', weights:{style:{VARIETY:1}}},
    {id:35, text:'–Ø –ª–µ–≥–∫–æ –±–µ—Ä—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å', weights:{style:{RESPONSIBILITY:1}, riasec:{E:0.25}}},
    {id:36, text:'–ú–Ω–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ —É—á–∏—Ç—å—Å—è –¥–æ–ª–≥–æ', weights:{style:{LONG_STUDY:1}}},
    {id:37, text:'–Ø –ª—é–±–ª—é –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç', weights:{style:{FAST_RESULT:1}}},
    {id:38, text:'–Ø —Å–ø–æ–∫–æ–π–Ω–æ –æ—Ç–Ω–æ—à—É—Å—å –∫ –æ—à–∏–±–∫–∞–º', weights:{style:{RESILIENCE:1}}},
    {id:39, text:'–ú–Ω–µ –≤–∞–∂–Ω–æ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –≤–∑—Ä–æ—Å–ª—ã—Ö', weights:{style:{APPROVAL:1}}},
    {id:40, text:'–Ø –≥–æ—Ç–æ–≤(–∞) –ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ, –¥–∞–∂–µ –µ—Å–ª–∏ —Å—Ç—Ä–∞—à–Ω–æ', weights:{style:{COURAGE:1}}},
  ];

  // –ü–∞—Ä—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —Å—Ç–∏–ª—è
  const STYLE_PAIRS = [
    {a:'STRUCTURE', b:'EXPLORER', labelA:'–ù—É–∂–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞', labelB:'–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π/–Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å—Ä–µ–¥–µ'},
    {a:'FINISHER', b:'VARIETY', labelA:'–•–æ—Ä–æ—à–æ –¥–æ–≤–æ–¥–∏—Ç –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞', labelB:'–ù—É–∂–Ω—ã —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏ —Å–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏'},
    {a:'LONG_STUDY', b:'FAST_RESULT', labelA:'–ì–æ—Ç–æ–≤(–∞) –∫ –¥–æ–ª–≥–æ–º—É –æ–±—É—á–µ–Ω–∏—é (–≤—É–∑/–Ω–∞—É–∫–∞/–º–µ–¥–∏—Ü–∏–Ω–∞)', labelB:'–õ—É—á—à–µ –±—ã—Å—Ç—Ä–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤ (–ø—Ä–æ–µ–∫—Ç—ã/–ø—Ä–∞–∫—Ç–∏–∫–∞)'},
  ];

  // –ö–∞—Ç–∞–ª–æ–≥ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π: —Å–æ—á–µ—Ç–∞–Ω–∏—è —Ç–∏–ø–æ–≤ -> –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è/–ø—Ä–æ—Ñ–µ—Å—Å–∏–∏/—Ñ–∞–∫—É–ª—å—Ç–µ—Ç—ã
  const RECATALOG = [
    {
      key:'I',
      tags:['–∞–Ω–∞–ª–∏—Ç–∏–∫–∞','–Ω–∞—É–∫–∞','IT'],
      programs:['–ü—Ä–∏–∫–ª–∞–¥–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞','–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞','Data Science / –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö','–ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å','–ë–∏–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞'],
      roles:['Data-–∞–Ω–∞–ª–∏—Ç–∏–∫','ML-–∏–Ω–∂–µ–Ω–µ—Ä','–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç','–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å','–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫'],
      notes:'–¢–µ–±–µ –≤–∞–∂–Ω–æ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è ¬´–ø–æ—á–µ–º—É —Ç–∞–∫¬ª, –∏—Å–∫–∞—Ç—å –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏, –∫–æ–ø–∞—Ç—å –≥–ª—É–±–∂–µ.'
    },
    {
      key:'S',
      tags:['–ª—é–¥–∏','–ø–æ–º–æ—â—å','–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏'],
      programs:['–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è','–ü–µ–¥–∞–≥–æ–≥–∏–∫–∞','–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞','–õ–æ–≥–æ–ø–µ–¥–∏—è','–ú–µ–¥–∏—Ü–∏–Ω–∞ (–µ—Å–ª–∏ –æ–∫ —Å–æ —Å—Ç—Ä–µ—Å—Å–æ–º)'],
      roles:['–ü—Å–∏—Ö–æ–ª–æ–≥','–ü–µ–¥–∞–≥–æ–≥/—Ç—å—é—Ç–æ—Ä','HR/—Ä–µ–∫—Ä—É—Ç–µ—Ä','–ú–µ–¥—Ä–∞–±–æ—Ç–Ω–∏–∫','–ö–æ—É—á/–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ (–≤ –±—É–¥—É—â–µ–º)'],
      notes:'–í–∞–∂–Ω—ã —ç–º–ø–∞—Ç–∏—è, –æ–±—â–µ–Ω–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ—â—É—â–µ–Ω–∏–µ –ø–æ–ª—å–∑—ã.'
    },
    {
      key:'E',
      tags:['–±–∏–∑–Ω–µ—Å','—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ','–≤–ª–∏—è–Ω–∏–µ'],
      programs:['–ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç','–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥','–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ','–ì–æ—Å—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ','–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏'],
      roles:['–ú–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞','–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å','–ú–∞—Ä–∫–µ—Ç–æ–ª–æ–≥','–ü—Ä–æ–¥–∞–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä','–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ç–¥–µ–ª–∞'],
      notes:'–¢—è–Ω–µ—Ç –∫ –ª–∏–¥–µ—Ä—Å—Ç–≤—É, –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∞–º, –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é –∏–¥–µ–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é.'
    },
    {
      key:'A',
      tags:['–∫—Ä–µ–∞—Ç–∏–≤','–º–µ–¥–∏–∞','–¥–∏–∑–∞–π–Ω'],
      programs:['–î–∏–∑–∞–π–Ω (–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π/UX/UI)','–ú–µ–¥–∏–∞/–ñ—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞','–†–µ–∫–ª–∞–º–∞ –∏ —Å–≤—è–∑–∏ —Å –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é','–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–µ—Å–ª–∏ —Å–∏–ª—å–Ω–∞—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è)'],
      roles:['–î–∏–∑–∞–π–Ω–µ—Ä','–ò–ª–ª—é—Å—Ç—Ä–∞—Ç–æ—Ä','–í–∏–¥–µ–æ/–∫–æ–Ω—Ç–µ–Ω—Ç-–º–µ–π–∫–µ—Ä','–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–¥—é—Å–µ—Ä','UX-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å (–µ—Å–ª–∏ +I)'],
      notes:'–°–∏–ª—å–Ω–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –≤—ã—Ä–∞–∂–∞—Ç—å –∏–¥–µ–∏ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—ã/–æ–±—Ä–∞–∑—ã/–∏—Å—Ç–æ—Ä–∏–∏.'
    },
    {
      key:'R',
      tags:['–ø—Ä–∞–∫—Ç–∏–∫–∞','—Ç–µ—Ö–Ω–∏–∫–∞','—Ä—É–∫–∏'],
      programs:['–ò–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è','–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ','–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç','–ú–µ—Ö–∞—Ç—Ä–æ–Ω–∏–∫–∞ –∏ —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∞','–°–µ—Ä–≤–∏—Å –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è'],
      roles:['–ò–Ω–∂–µ–Ω–µ—Ä','–¢–µ—Ö–Ω–∏–∫','–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä/—Å—Ç—Ä–æ–∏—Ç–µ–ª—å (–µ—Å–ª–∏ +A/VIS)','–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é','–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤'],
      notes:'–ù—Ä–∞–≤–∏—Ç—Å—è –¥–µ–ª–∞—Ç—å ¬´—Ä—É–∫–∞–º–∏¬ª, –≤–∏–¥–µ—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ—Ö–Ω–∏–∫–æ–π/–º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏.'
    },
    {
      key:'C',
      tags:['–ø–æ—Ä—è–¥–æ–∫','—Å–∏—Å—Ç–µ–º—ã','—Ç–æ—á–Ω–æ—Å—Ç—å'],
      programs:['–≠–∫–æ–Ω–æ–º–∏–∫–∞','–§–∏–Ω–∞–Ω—Å—ã','–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–π —É—á—ë—Ç','–õ–æ–≥–∏—Å—Ç–∏–∫–∞','–î–æ–∫—É–º–µ–Ω—Ç–æ–≤–µ–¥–µ–Ω–∏–µ/–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ'],
      roles:['–§–∏–Ω–∞–Ω—Å–∏—Å—Ç','–ë—É—Ö–≥–∞–ª—Ç–µ—Ä','–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä','–õ–æ–≥–∏—Å—Ç','–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤'],
      notes:'–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ, –∫–æ–≥–¥–∞ –µ—Å—Ç—å –ø—Ä–∞–≤–∏–ª–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.'
    },
  ];

  // –ö–ª–∏–º–æ–≤: –ø–æ–¥—Å–∫–∞–∑–∫–∏
  const KLIMOV_REC = {
    HH: {programs:['–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è','–ü–µ–¥–∞–≥–æ–≥–∏–∫–∞','–ú–µ–¥–∏—Ü–∏–Ω–∞','HR/—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º','–°–æ—Ü—Ä–∞–±–æ—Ç–∞'], roles:['–ü—Å–∏—Ö–æ–ª–æ–≥','–í—Ä–∞—á/–º–µ–¥—Å–µ—Å—Ç—Ä–∞','–ü–µ–¥–∞–≥–æ–≥','HR','–¢—Ä–µ–Ω–µ—Ä/–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫']},
    HT: {programs:['–ò–Ω–∂–µ–Ω–µ—Ä–∏—è','–†–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∞','–ê–≤—Ç–æ–º–µ—Ö–∞–Ω–∏–∫–∞','–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞','–ò–¢-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞'], roles:['–ò–Ω–∂–µ–Ω–µ—Ä','–¢–µ—Ö–Ω–∏–∫','DevOps/—Å–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω','–ú–µ—Ö–∞–Ω–∏–∫','–ò–Ω–∂–µ–Ω–µ—Ä-—ç–ª–µ–∫—Ç—Ä–æ–Ω—â–∏–∫']},
    HN: {programs:['–ë–∏–æ–ª–æ–≥–∏—è','–≠–∫–æ–ª–æ–≥–∏—è','–í–µ—Ç–µ—Ä–∏–Ω–∞—Ä–∏—è','–ê–≥—Ä–æ–Ω–æ–º–∏—è','–ì–µ–æ–≥—Ä–∞—Ñ–∏—è'], roles:['–í–µ—Ç–µ—Ä–∏–Ω–∞—Ä','–≠–∫–æ–ª–æ–≥','–ë–∏–æ–ª–æ–≥','–ê–≥—Ä–æ–Ω–æ–º','–õ–µ—Å–Ω–æ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ']},
    HS: {programs:['–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞','–ü—Ä–∏–∫–ª–∞–¥–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–≠–∫–æ–Ω–æ–º–∏–∫–∞/—Ñ–∏–Ω–∞–Ω—Å—ã','–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞','–õ–æ–≥–∏—Å—Ç–∏–∫–∞'], roles:['–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç','–ê–Ω–∞–ª–∏—Ç–∏–∫','–§–∏–Ω–∞–Ω—Å–∏—Å—Ç','–°—Ç–∞—Ç–∏—Å—Ç–∏–∫','–õ–æ–≥–∏—Å—Ç']},
    HA: {programs:['–î–∏–∑–∞–π–Ω','–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞','–ú—É–∑—ã–∫–∞','–¢–µ–∞—Ç—Ä/–∫–∏–Ω–æ','–ú–µ–¥–∏–∞'], roles:['–î–∏–∑–∞–π–Ω–µ—Ä','–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä','–ú—É–∑—ã–∫–∞–Ω—Ç/–∑–≤—É–∫–æ—Ä–µ–∂–∏—Å—Å—ë—Ä','–†–µ–∂–∏—Å—Å—ë—Ä','–ò–ª–ª—é—Å—Ç—Ä–∞—Ç–æ—Ä']},
  };

  // –ï–ì–≠-–ø–æ–¥—Å–∫–∞–∑–∫–∏ (—É—Å—Ä–µ–¥–Ω—ë–Ω–Ω—ã–µ —Å–≤—è–∑–∫–∏). –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ —á–∞—â–µ –≤—Å–µ–≥–æ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –≤ —Å–ø–∏—Å–∫–∞—Ö –Ω–∏–∂–µ.
  // –§–æ—Ä–º–∞—Ç: {label, subjects:[...], note}
  const EGE_MAP = {
    // RIASEC
    R: [
      {label:'–ò–Ω–∂–µ–Ω–µ—Ä–∏—è/—Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ', subjects:['–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–§–∏–∑–∏–∫–∞','–†—É—Å—Å–∫–∏–π'], note:'–ß–∞—Å—Ç–æ: –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞+—Ñ–∏–∑–∏–∫–∞. –î–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–Ω–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –≤–º–µ—Å—Ç–æ —Ñ–∏–∑–∏–∫–∏ ‚Äî –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—É–∑–∞.'},
      {label:'–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç/—Ç–µ—Ö–Ω–∏–∫–∞', subjects:['–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–§–∏–∑–∏–∫–∞','–†—É—Å—Å–∫–∏–π'], note:'–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤—É–∑—ã –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ —Ç—Ä–µ–±—É—é—Ç –º–∞—Ç–µ–º–∞—Ç–∏–∫—É. –§–∏–∑–∏–∫–∞ ‚Äî —Å–∞–º—ã–π —á–∞—Å—Ç—ã–π —Ç—Ä–µ—Ç–∏–π.'},
    ],
    I: [
      {label:'–ò–¢/–∞–Ω–∞–ª–∏—Ç–∏–∫–∞/–î–°', subjects:['–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞','–†—É—Å—Å–∫–∏–π'], note:'–°–∞–º–∞—è —Ç–∏–ø–∏—á–Ω–∞—è —Å–≤—è–∑–∫–∞ –¥–ª—è –ò–¢. –ò–Ω–æ–≥–¥–∞ –≤–º–µ—Å—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏ –ø—Ä–æ—Å—è—Ç —Ñ–∏–∑–∏–∫—É.'},
      {label:'–ù–∞—É–∫–∞/–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ', subjects:['–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–§–∏–∑–∏–∫–∞ –∏–ª–∏ –•–∏–º–∏—è –∏–ª–∏ –ë–∏–æ–ª–æ–≥–∏—è','–†—É—Å—Å–∫–∏–π'], note:'–¢—Ä–µ—Ç–∏–π –ø—Ä–µ–¥–º–µ—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±–ª–∞—Å—Ç–∏: —Ñ–∏–∑–∏–∫–∞/—Ö–∏–º–∏—è/–±–∏–æ–ª–æ–≥–∏—è.'},
    ],
    A: [
      {label:'–î–∏–∑–∞–π–Ω/–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞/–∏—Å–∫—É—Å—Å—Ç–≤–æ', subjects:['–†—É—Å—Å–∫–∏–π','–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –∏–ª–∏ –ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–¢–≤–æ—Ä—á–µ—Å–∫–∏–π —ç–∫–∑–∞–º–µ–Ω/–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ'], note:'–ß–∞—Å—Ç–æ —Ä–µ—à–∞–µ—Ç —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –∫–æ–Ω–∫—É—Ä—Å/–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—ã—á–Ω–æ —Ç—Ä–µ–±—É–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏–∫—É.'},
      {label:'–ú–µ–¥–∏–∞/–∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞', subjects:['–†—É—Å—Å–∫–∏–π','–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞','–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ (–∏–Ω–æ–≥–¥–∞)'], note:'–°–æ—Å—Ç–∞–≤ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —Å–∏–ª—å–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—É–∑–∞.'},
    ],
    S: [
      {label:'–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è/–ø–µ–¥–∞–≥–æ–≥–∏–∫–∞', subjects:['–†—É—Å—Å–∫–∏–π','–ë–∏–æ–ª–æ–≥–∏—è –∏–ª–∏ –û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ','–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (–∏–Ω–æ–≥–¥–∞)'], note:'–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è —á–∞—Å—Ç–æ: –±–∏–æ–ª–æ–≥–∏—è/–æ–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ. –ü—Ä–æ–≤–µ—Ä—è–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É.'},
      {label:'–ú–µ–¥–∏—Ü–∏–Ω–∞', subjects:['–†—É—Å—Å–∫–∏–π','–•–∏–º–∏—è','–ë–∏–æ–ª–æ–≥–∏—è'], note:'–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑–∫–∞ –¥–ª—è –ª–µ—á–µ–±–Ω–æ–≥–æ –¥–µ–ª–∞/—Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏.'},
    ],
    E: [
      {label:'–ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç/–º–∞—Ä–∫–µ—Ç–∏–Ω–≥', subjects:['–†—É—Å—Å–∫–∏–π','–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ'], note:'–û—á–µ–Ω—å —á–∞—Å—Ç–∞—è —Ç—Ä–æ–π–∫–∞. –ò–Ω–æ–≥–¥–∞ –≤–º–µ—Å—Ç–æ –æ–±—â–µ—Å—Ç–≤–∞ ‚Äî –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫.'},
      {label:'–ì–æ—Å—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ/–ø—Ä–∞–≤–æ (—Å–º–µ–∂–Ω–æ)', subjects:['–†—É—Å—Å–∫–∏–π','–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ','–ò—Å—Ç–æ—Ä–∏—è (–∏–Ω–æ–≥–¥–∞)'], note:'–î–ª—è –ø—Ä–∞–≤–∞ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è. –î–ª—è –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ —á–∞—â–µ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞.'},
    ],
    C: [
      {label:'–≠–∫–æ–Ω–æ–º–∏–∫–∞/—Ñ–∏–Ω–∞–Ω—Å—ã', subjects:['–†—É—Å—Å–∫–∏–π','–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ –∏–ª–∏ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞'], note:'–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞. –¢—Ä–µ—Ç–∏–π ‚Äî –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—É–∑–∞.'},
      {label:'–õ–æ–≥–∏—Å—Ç–∏–∫–∞/–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ', subjects:['–†—É—Å—Å–∫–∏–π','–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ'], note:'–ò–Ω–æ–≥–¥–∞ –ø–æ–¥—Ö–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –∫–∞–∫ —Ç—Ä–µ—Ç–∏–π –ø—Ä–µ–¥–º–µ—Ç.'},
    ],
    // Klimov (—É—Å–∏–ª–µ–Ω–∏–µ)
    HH: [
      {label:'–†–∞–±–æ—Ç–∞ —Å –ª—é–¥—å–º–∏', subjects:['–†—É—Å—Å–∫–∏–π','–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ','–ë–∏–æ–ª–æ–≥–∏—è (–ø—Å–∏—Ö–æ–ª–æ–≥–∏—è/–ø–µ–¥–∞–≥–æ–≥–∏–∫–∞)'], note:'–ï—Å–ª–∏ –º–µ–¥–∏—Ü–∏–Ω–∞ ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ö–∏–º–∏—è –≤–º–µ—Å—Ç–æ –æ–±—â–µ—Å—Ç–≤–∞.'},
    ],
    HT: [
      {label:'–¢–µ—Ö–Ω–∏–∫–∞/–∏–Ω–∂–µ–Ω–µ—Ä–∏—è', subjects:['–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–§–∏–∑–∏–∫–∞','–†—É—Å—Å–∫–∏–π'], note:'–ë–∞–∑–∞ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π.'},
    ],
    HN: [
      {label:'–ü—Ä–∏—Ä–æ–¥–∞/–±–∏–æ', subjects:['–†—É—Å—Å–∫–∏–π','–ë–∏–æ–ª–æ–≥–∏—è','–•–∏–º–∏—è –∏–ª–∏ –ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞'], note:'–≠–∫–æ–ª–æ–≥–∏—è/–±–∏–æ–ª–æ–≥–∏—è ‚Äî —á–∞—Å—Ç–æ –±–∏–æ–ª–æ–≥–∏—è+–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏–ª–∏ –±–∏–æ–ª–æ–≥–∏—è+—Ö–∏–º–∏—è.'},
    ],
    HS: [
      {label:'–¶–∏—Ñ—Ä—ã/–¥–∞–Ω–Ω—ã–µ', subjects:['–†—É—Å—Å–∫–∏–π','–ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞'], note:'–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ò–¢/–∞–Ω–∞–ª–∏—Ç–∏–∫–∏/—Ñ–∏–Ω–∞–Ω—Å–æ–≤.'},
    ],
    HA: [
      {label:'–ò—Å–∫—É—Å—Å—Ç–≤–æ/–æ–±—Ä–∞–∑', subjects:['–†—É—Å—Å–∫–∏–π','–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞','–¢–≤–æ—Ä—á–µ—Å–∫–∏–π —ç–∫–∑–∞–º–µ–Ω/–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ'], note:'–¢–≤–æ—Ä—á–µ—Å–∫–∏–π –∫–æ–Ω–∫—É—Ä—Å ‚Äî –∫–ª—é—á–µ–≤–æ–π.'},
    ],
  };

  // -----------------------------
  // –†–ï–ù–î–ï–† –í–û–ü–†–û–°–û–í
  // -----------------------------
  const elQ = document.getElementById('questions');
  const totalCount = document.getElementById('totalCount');
  const doneCount = document.getElementById('doneCount');
  const progressFill = document.getElementById('progressFill');
  const btnResult = document.getElementById('btnResult');
  const btnReset = document.getElementById('btnReset');
  const btnBack = document.getElementById('btnBack');
  const testCard = document.getElementById('testCard');
  const resultCard = document.getElementById('resultCard');

  totalCount.textContent = String(Q.length);

  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
  const answers = {}; // {id: value}

  function renderQuestions(){
    elQ.innerHTML = '';
    Q.forEach(q => {
      const wrap = document.createElement('div');
      wrap.className = 'q';
      const p = document.createElement('p');
      p.className = 'qtext';
      p.textContent = `${q.id}. ${q.text}`;
      wrap.appendChild(p);

      const scale = document.createElement('div');
      scale.className = 'scale';

      SCALE.forEach(v => {
        const opt = document.createElement('div');
        opt.className = 'opt';
        const input = document.createElement('input');
        input.type = 'radio';
        input.name = `q${q.id}`;
        input.id = `q${q.id}_${v}`;
        input.value = String(v);
        input.addEventListener('change', () => {
          answers[q.id] = v;
          updateProgress();
        });

        const label = document.createElement('label');
        label.setAttribute('for', input.id);
        label.textContent = String(v);

        opt.appendChild(input);
        opt.appendChild(label);
        scale.appendChild(opt);
      });

      wrap.appendChild(scale);
      elQ.appendChild(wrap);
    });
  }

  function updateProgress(){
    const done = Object.keys(answers).length;
    doneCount.textContent = String(done);
    const pct = Math.round((done / Q.length) * 100);
    progressFill.style.width = pct + '%';
    btnResult.disabled = done < Q.length;
  }

  function resetAll(){
    Object.keys(answers).forEach(k => delete answers[k]);
    // –æ—á–∏—Å—Ç–∏—Ç—å radio
    document.querySelectorAll('input[type="radio"]').forEach(i => i.checked = false);
    updateProgress();
    // —Å–ø—Ä—è—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    resultCard.classList.add('hidden');
    testCard.classList.remove('hidden');
  }

  renderQuestions();
  updateProgress();

  // -----------------------------
  // –ü–û–î–°–ß–Å–¢
  // -----------------------------
  function emptyScores(map){
    const out = {};
    for (const k of Object.keys(map)) out[k] = 0;
    return out;
  }

  function addWeighted(target, weights, value){
    if (!weights) return;
    for (const [k,w] of Object.entries(weights)){
      target[k] = (target[k] || 0) + value * w;
    }
  }

  function topN(obj, n=3){
    return Object.entries(obj)
      .sort((a,b) => b[1]-a[1])
      .slice(0,n)
      .map(([k,v]) => ({k,v}));
  }

  function scoreAll(){
    const riasec = emptyScores(RIASEC_LABELS);
    const klimov = emptyScores(KLIMOV_LABELS);
    const intel = emptyScores(INTEL_LABELS);
    const mot = emptyScores(MOT_LABELS);
    const style = {};

    Q.forEach(q => {
      const val = answers[q.id];
      // –∑–∞—â–∏—â–∞–µ–º—Å—è, –Ω–æ –∫–Ω–æ–ø–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–µ –¥–∞—Å—Ç –Ω–µ–∑–∞–ø–æ–ª–Ω–∏—Ç—å
      const v = typeof val === 'number' ? val : 3;
      const w = q.weights || {};
      addWeighted(riasec, w.riasec, v);
      addWeighted(klimov, w.klimov, v);
      addWeighted(intel,  w.intel,  v);
      addWeighted(mot,    w.mot,    v);
      addWeighted(style,  w.style,  v);
    });

    return {riasec, klimov, intel, mot, style};
  }

  // -----------------------------
  // –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø –ë–ê–†–û–í
  // -----------------------------
  function renderBars(containerId, labelMap, scores, maxValHint=null){
    const el = document.getElementById(containerId);
    el.innerHTML = '';

    // –∞–≤—Ç–æ max: –±–µ—Ä–µ–º –º–∞–∫—Å–∏–º—É–º –∏–∑ –Ω–∞–±–æ—Ä–∞ (–∏–ª–∏ –ø–æ–¥—Å–∫–∞–∑–∫—É)
    const max = maxValHint ?? Math.max(...Object.values(scores), 1);

    for (const key of Object.keys(labelMap)){
      const row = document.createElement('div');
      row.className = 'bar';
      const name = document.createElement('div');
      name.className = 'name';
      name.textContent = labelMap[key];
      const meter = document.createElement('div');
      meter.className = 'meter';
      const fill = document.createElement('div');
      const pct = Math.round((scores[key] / max) * 100);
      fill.style.width = Math.max(0, Math.min(100, pct)) + '%';
      meter.appendChild(fill);
      const val = document.createElement('div');
      val.className = 'val';
      val.textContent = scores[key].toFixed(1);
      row.appendChild(name);
      row.appendChild(meter);
      row.appendChild(val);
      el.appendChild(row);
    }
  }

  // -----------------------------
  // –ò–ù–¢–ï–†–ü–†–ï–¢–ê–¶–ò–Ø
  // -----------------------------
  function interpret(scores){
    const topR = topN(scores.riasec, 3);
    const topK = topN(scores.klimov, 2);
    const topI = topN(scores.intel, 3);
    const topM = topN(scores.mot, 3);

    const topRIASECKeys = topR.map(x=>x.k);
    const topKKey = topK[0]?.k;

    // –°–±–æ—Ä —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ RIASEC (–±–µ—Ä—ë–º 2 –∫–ª—é—á–∞, –µ—Å–ª–∏ –µ—Å—Ç—å)
    const primary = topR[0]?.k;
    const secondary = topR[1]?.k;

    const recPrimary = RECATALOG.find(r => r.key === primary);
    const recSecondary = RECATALOG.find(r => r.key === secondary);

    // –ö–ª–∏–º–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    const klimovRec = topKKey ? KLIMOV_REC[topKKey] : null;

    // –°—Ç–∏–ª—å —á–µ—Ä–µ–∑ –ø–∞—Ä—ã
    const styleLines = [];
    STYLE_PAIRS.forEach(p => {
      const a = scores.style[p.a] || 0;
      const b = scores.style[p.b] || 0;
      if (a === 0 && b === 0) return;
      if (a > b) styleLines.push('‚Ä¢ ' + p.labelA);
      else if (b > a) styleLines.push('‚Ä¢ ' + p.labelB);
      else styleLines.push('‚Ä¢ –ë–∞–ª–∞–Ω—Å: ' + p.labelA + ' / ' + p.labelB);
    });

    // –î–æ–ø. —Å—Ç–∏–ª—å
    const resilient = (scores.style.RESILIENCE || 0) >= 4;
    const needsApproval = (scores.style.APPROVAL || 0) >= 4;

    // –°–æ–±–∏—Ä–∞–µ–º ¬´–ø–∏–ª—é–ª–∏¬ª –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
    const pills = new Set();
    (recPrimary?.tags || []).forEach(t => pills.add(t));
    (recSecondary?.tags || []).forEach(t => pills.add(t));
    if (topKKey){
      const mapK = {HH:['—Ä–∞–±–æ—Ç–∞ —Å –ª—é–¥—å–º–∏'], HT:['—Ç–µ—Ö–Ω–∏–∫–∞/–∏–Ω–∂–µ–Ω–µ—Ä–∏—è'], HN:['–ø—Ä–∏—Ä–æ–¥–∞/–±–∏–æ'], HS:['—Ü–∏—Ñ—Ä—ã/–¥–∞–Ω–Ω—ã–µ'], HA:['–∫—Ä–µ–∞—Ç–∏–≤/–∏—Å–∫—É—Å—Å—Ç–≤–æ']};
      (mapK[topKKey] || []).forEach(t=>pills.add(t));
    }

    // –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—É–Ω–∏–∫–∞–ª—å–Ω–æ)
    const programs = new Set();
    const roles = new Set();

    (recPrimary?.programs || []).forEach(x => programs.add(x));
    (recSecondary?.programs || []).forEach(x => programs.add(x));
    (klimovRec?.programs || []).forEach(x => programs.add(x));

    (recPrimary?.roles || []).forEach(x => roles.add(x));
    (recSecondary?.roles || []).forEach(x => roles.add(x));
    (klimovRec?.roles || []).forEach(x => roles.add(x));

    // –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
    const motNotes = [];
    const topMotKeys = topM.map(x=>x.k);
    if (topMotKeys.includes('MONEY')) motNotes.push('‚Ä¢ –í–∞–∂–Ω–æ: –¥–æ—Ö–æ–¥ ‚Äî –≤—ã–±–∏—Ä–∞–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å –ø–æ–Ω—è—Ç–Ω–æ–π —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–µ–π —Ä–æ—Å—Ç–∞ –∏ –ø—Ä–∞–∫—Ç–∏–∫–æ–π —É–∂–µ –Ω–∞ 1‚Äì2 –∫—É—Ä—Å–µ.');
    if (topMotKeys.includes('MEANING')) motNotes.push('‚Ä¢ –í–∞–∂–Ω–æ: —Å–º—ã—Å–ª/–ø–æ–ª—å–∑–∞ ‚Äî –∏—â–∏ —Å—Ñ–µ—Ä—ã, –≥–¥–µ –≤–∏–¥–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ª—é–¥–µ–π/–º–∏—Ä–∞ (S, –º–µ–¥–∏—Ü–∏–Ω–∞, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è).');
    if (topMotKeys.includes('FREEDOM')) motNotes.push('‚Ä¢ –í–∞–∂–Ω–æ: —Å–≤–æ–±–æ–¥–∞ ‚Äî –æ–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–Ω—ã–µ/–≥–∏–±–∫–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ (IT, –¥–∏–∑–∞–π–Ω, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞).');
    if (topMotKeys.includes('STABILITY')) motNotes.push('‚Ä¢ –í–∞–∂–Ω–æ: —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å ‚Äî –ø–æ–¥–æ–π–¥—É—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å—Ñ–µ—Ä—ã –∏ –∫—Ä—É–ø–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (C, —Ñ–∏–Ω–∞–Ω—Å—ã, –≥–æ—Å/–∫–æ—Ä–ø).');
    if (topMotKeys.includes('CREATIVITY')) motNotes.push('‚Ä¢ –í–∞–∂–Ω–æ: —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ ‚Äî –≤—ã–±–∏—Ä–∞–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –∏ –ø—Ä–∞–∫—Ç–∏–∫–æ–π (A, –¥–∏–∑–∞–π–Ω/–º–µ–¥–∏–∞).');
    if (topMotKeys.includes('POWER')) motNotes.push('‚Ä¢ –í–∞–∂–Ω–æ: –≤–ª–∏—è–Ω–∏–µ ‚Äî —Å–º–æ—Ç—Ä–∏ –Ω–∞ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç/–ø—Ä–æ–¥–∞–∫—Ç/–ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ (E).');
    if (topMotKeys.includes('CALM')) motNotes.push('‚Ä¢ –í–∞–∂–Ω–æ: –Ω–∏–∑–∫–∏–π —Å—Ç—Ä–µ—Å—Å ‚Äî –∏–∑–±–µ–≥–∞–π —Å—Ñ–µ—Ä —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –∞–≤—Ä–∞–ª–∞–º–∏, –≤—ã–±–∏—Ä–∞–π –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã.');

    // –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—ã
    const intelText = topI.map(x => INTEL_LABELS[x.k]).join(', ');

    const out = {
      topRIASECText: topR.map(x=>x.k).join(' + ') + '  (' + topR.map(x=>({
        R:'–¢–µ—Ö–Ω–∏–∫–∞/–ø—Ä–∞–∫—Ç–∏–∫–∞',I:'–ê–Ω–∞–ª–∏—Ç–∏–∫–∞/–Ω–∞—É–∫–∞',A:'–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ',S:'–õ—é–¥–∏/–ø–æ–º–æ—â—å',E:'–ë–∏–∑–Ω–µ—Å/–ª–∏–¥–µ—Ä—Å—Ç–≤–æ',C:'–ü–æ—Ä—è–¥–æ–∫/—Å–∏—Å—Ç–µ–º—ã'
      })[x.k]).join(' + ') + ')',
      topKlimovText: topKKey ? KLIMOV_LABELS[topKKey] : '‚Äî',
      topIntelText: intelText || '‚Äî',
      topMotText: topM.map(x => MOT_LABELS[x.k]).join(', ') || '‚Äî',
      pills: Array.from(pills).slice(0,10),
      programs: Array.from(programs),
      roles: Array.from(roles),
      styleLines,
      motNotes,
      resilient,
      needsApproval,
      primary,
      secondary,
      primaryNote: recPrimary?.notes || '',
      secondaryNote: recSecondary?.notes || ''
    };

    return out;
  }

  function buildRecommendationsText(interp){
    const lines = [];
    lines.push(`<div style="color:var(--muted)">–¢–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å: <b>${interp.topRIASECText}</b>. –ü–æ –ö–ª–∏–º–æ–≤—É: <b>${interp.topKlimovText}</b>.</div>`);

    if (interp.primaryNote) lines.push(`<div style="margin-top:10px">${interp.primaryNote}</div>`);
    if (interp.secondaryNote && interp.secondary !== interp.primary) lines.push(`<div style="margin-top:6px;color:var(--muted)">–í—Ç–æ—Ä–æ–π —Å–∏–ª—å–Ω—ã–π –≤–µ–∫—Ç–æ—Ä: ${interp.secondaryNote}</div>`);

    if (interp.programs.length){
      lines.push(`<div style="margin-top:10px"><b>–ü–æ–¥—Ö–æ–¥—è—â–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è/—Ñ–∞–∫—É–ª—å—Ç–µ—Ç—ã:</b><br>${interp.programs.slice(0,10).map(x=>'‚Ä¢ '+x).join('<br>')}</div>`);
    }
    if (interp.roles.length){
      lines.push(`<div style="margin-top:10px"><b>–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–π (—á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å ¬´–∫—É–¥–∞ —Ü–µ–ª–∏—Ç—å—Å—è¬ª):</b><br>${interp.roles.slice(0,10).map(x=>'‚Ä¢ '+x).join('<br>')}</div>`);
    }

    if (interp.styleLines.length){
      lines.push(`<div style="margin-top:10px"><b>–°—Ç–∏–ª—å –æ–±—É—á–µ–Ω–∏—è/—Ä–∞–±–æ—Ç—ã:</b><br>${interp.styleLines.join('<br>')}</div>`);
    }

    if (interp.resilient){
      lines.push(`<div style="margin-top:10px;color:var(--ok)"><b>–ü–ª—é—Å:</b> –≤—ã—Å–æ–∫–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –æ—à–∏–±–∫–∞–º ‚Äî –ª–µ–≥—á–µ —É—á–∏—Ç—å—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –∏ –Ω–µ —Å–¥–∞–≤–∞—Ç—å—Å—è.</div>`);
    }
    if (interp.needsApproval){
      lines.push(`<div style="margin-top:10px;color:var(--warn)"><b>–í–Ω–∏–º–∞–Ω–∏–µ:</b> —Ç–µ–±–µ –≤–∞–∂–Ω–æ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –≤–∑—Ä–æ—Å–ª—ã—Ö ‚Äî –≤—ã–±–∏—Ä–∞–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞/–∫—É—Ä–∞—Ç–æ—Ä–∞, —á—Ç–æ–±—ã –Ω–µ ¬´—Å–¥—É–≤–∞—Ç—å—Å—è¬ª.</div>`);
    }

    if (interp.motNotes.length){
      lines.push(`<div style="margin-top:10px"><b>–ú–æ—Ç–∏–≤–∞—Ü–∏—è (—á—Ç–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –≤—É–∑–∞/–ø—É—Ç–∏):</b><br>${interp.motNotes.join('<br>')}</div>`);
    }

    // –®–∞–≥–∏ –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç–æ–≤
    const projectIdeas = [];
    const combo = [interp.primary, interp.secondary].filter(Boolean).join('');
    if (combo.includes('I')) projectIdeas.push('–ú–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç: —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ä–æ—Å/—Ç–∞–±–ª–∏—Ü–∞), —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥—ã –∏ –≥—Ä–∞—Ñ–∏–∫–∏.');
    if (combo.includes('A')) projectIdeas.push('–ú–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç: —Å–¥–µ–ª–∞—Ç—å 3 –ø–æ—Å—Ç–µ—Ä–∞/–æ–±–ª–æ–∂–∫–∏/–ª–µ–Ω–¥–∏–Ω–≥-–º–∞–∫–µ—Ç –∏ —Å–æ–±—Ä–∞—Ç—å –º–∏–Ω–∏-–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.');
    if (combo.includes('S')) projectIdeas.push('–ú–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç: –ø—Ä–æ–≤–µ—Å—Ç–∏ 5 –∏–Ω—Ç–µ—Ä–≤—å—é —Å –ª—é–¥—å–º–∏ ¬´–æ –ø—Ä–æ–±–ª–µ–º–µ¬ª –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ä–µ—à–µ–Ω–∏—è/–ø–∞–º—è—Ç–∫—É.');
    if (combo.includes('E')) projectIdeas.push('–ú–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç: –ø—Ä–∏–¥—É–º–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç/—Å–µ—Ä–≤–∏—Å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ 10 –ª—é–¥—è—Ö (–æ–ø—Ä–æ—Å + –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ).');
    if (combo.includes('R')) projectIdeas.push('–ú–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç: —Å–æ–±—Ä–∞—Ç—å/–ø–æ—á–∏–Ω–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ/–º–æ–¥–µ–ª—å, –æ–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.');
    if (combo.includes('C')) projectIdeas.push('–ú–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç: –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É (–ø–ª–∞–Ω, –±—é–¥–∂–µ—Ç, —É—á—ë—Ç) –∏ –ø–æ–∫–∞–∑–∞—Ç—å –∏–∑–º–µ—Ä–∏–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç.');

    if (projectIdeas.length){
      lines.push(`<div style="margin-top:10px"><b>–ò–¥–µ—è –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–æ–± (7‚Äì10 –¥–Ω–µ–π):</b><br>${projectIdeas.slice(0,3).map(x=>'‚Ä¢ '+x).join('<br>')}</div>`);
    }

    return lines.join('');
  }

  function buildReportText(scores, interp){
    const topR = topN(scores.riasec, 3).map(x => `${x.k}=${x.v.toFixed(1)}`).join(', ');
    const topK = topN(scores.klimov, 2).map(x => `${x.k}=${x.v.toFixed(1)}`).join(', ');
    const topI = topN(scores.intel, 3).map(x => `${x.k}=${x.v.toFixed(1)}`).join(', ');
    const topM = topN(scores.mot, 3).map(x => `${x.k}=${x.v.toFixed(1)}`).join(', ');

    return [
      '–ü–†–û–§–û–†–ò–ï–ù–¢–ê–¶–ò–û–ù–ù–´–ô –û–¢–ß–Å–¢ (12‚Äì18)\n',
      `RIASEC (–ø—Ä–æ—Ñ—Å—Ä–µ–¥–∞): ${interp.topRIASECText}\n`,
      `–ö–ª–∏–º–æ–≤: ${interp.topKlimovText}\n`,
      `–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã (–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—ã): ${interp.topIntelText}\n`,
      `–ú–æ—Ç–∏–≤–∞—Ü–∏—è (–¢–û–ü): ${interp.topMotText}\n`,
      '\n--- –ë–∞–ª–ª—ã (–¢–û–ü) ---\n',
      `RIASEC: ${topR}\n`,
      `–ö–ª–∏–º–æ–≤: ${topK}\n`,
      `–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—ã: ${topI}\n`,
      `–ú–æ—Ç–∏–≤–∞—Ü–∏–∏: ${topM}\n`,
      '\n--- –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è/—Ñ–∞–∫—É–ª—å—Ç–µ—Ç—ã ---\n',
      ...(interp.programs.slice(0,12).map(x => '‚Ä¢ ' + x)),
      '\n--- –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–π ---\n',
      ...(interp.roles.slice(0,12).map(x => '‚Ä¢ ' + x)),
      '\n--- –°—Ç–∏–ª—å ---\n',
      ...(interp.styleLines.length ? interp.styleLines : ['‚Ä¢ (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö)']),
      '\n--- –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ ---\n',
      '‚Ä¢ –í—ã–±—Ä–∞—Ç—å 1‚Äì2 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Å–¥–µ–ª–∞—Ç—å –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç 7‚Äì10 –¥–Ω–µ–π\n‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã –ï–ì–≠/–≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–µ\n‚Ä¢ 1‚Äì2 –∏–Ω—Ç–µ—Ä–≤—å—é —Å –ª—é–¥—å–º–∏ –∏–∑ —Å—Ñ–µ—Ä—ã\n'
    ].join('');
  }

  // -----------------------------
  // UI: –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  // -----------------------------
  const topRIASEC = document.getElementById('topRIASEC');
  const topKlimov = document.getElementById('topKlimov');
  const topIntel = document.getElementById('topIntel');
  const topMot = document.getElementById('topMot');
  const recPills = document.getElementById('recPills');
  const egePills = document.getElementById('egePills');
  const egeText = document.getElementById('egeText');
  const recText = document.getElementById('recText');
  const reportEl = document.getElementById('report');
  const btnCopy = document.getElementById('btnCopy');
  const copyHint = document.getElementById('copyHint');

  function showResults(){
    const scores = scoreAll();
    const interp = interpret(scores);

    topRIASEC.textContent = interp.topRIASECText;
    topKlimov.textContent = interp.topKlimovText;
    topIntel.textContent = interp.topIntelText;
    topMot.textContent = interp.topMotText;

    renderBars('barsRIASEC', RIASEC_LABELS, scores.riasec);
    renderBars('barsKlimov', KLIMOV_LABELS, scores.klimov);

    recPills.innerHTML = '';
    interp.pills.forEach(t => {
      const s = document.createElement('span');
      s.textContent = t;
      recPills.appendChild(s);
    });

    recText.innerHTML = buildRecommendationsText(interp);

    // --- –ï–ì–≠ –±–ª–æ–∫ ---
    egePills.innerHTML = '';
    egeText.innerHTML = '';

    const primary = interp.primary;
    const secondary = interp.secondary;
    const klimovTop = topN(scores.klimov, 1)[0]?.k;

    const pickEge = [];
    if (primary && EGE_MAP[primary]) pickEge.push(...EGE_MAP[primary]);
    if (secondary && EGE_MAP[secondary]) pickEge.push(...EGE_MAP[secondary]);
    if (klimovTop && EGE_MAP[klimovTop]) pickEge.push(...EGE_MAP[klimovTop]);

    // –£–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ label
    const uniq = [];
    const seen = new Set();
    for (const item of pickEge){
      if (!seen.has(item.label)){
        seen.add(item.label);
        uniq.push(item);
      }
    }

    // –ø–æ–∫–∞–∑–∞—Ç—å 3-5 —Å–∞–º—ã—Ö —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫
    const show = uniq.slice(0,5);

    // –ü–∏–ª—é–ª–∏-–ø—Ä–µ–¥–º–µ—Ç—ã (–∞–≥—Ä–µ–≥–∏—Ä—É–µ–º)
    const subjSet = new Set();
    show.forEach(it => it.subjects.forEach(s => subjSet.add(s)));
    Array.from(subjSet).slice(0,10).forEach(su => {
      const sp = document.createElement('span');
      sp.textContent = su;
      egePills.appendChild(sp);
    });

    if (show.length){
      const blocks = show.map(it => {
        return `<div style="margin-top:10px">`+
          `<b>${it.label}</b><br>`+
          `‚Ä¢ –ß–∞—Å—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è: ${it.subjects.join(', ')}<br>`+
          `<span class="small">${it.note}</span>`+
          `</div>`;
      }).join('');
      egeText.innerHTML = `<div style="color:var(--muted)">–ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ —Ç–≤–æ–∏–º –¢–û–ü-–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º. –î–ª—è –≤—ã–±–æ—Ä–∞ –≤—É–∑–∞ ‚Äî –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã.</div>` + blocks;
    } else {
      egeText.innerHTML = `<div style="color:var(--muted)">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –ï–ì–≠ (—Ä–µ–¥–∫–æ). –ü—Ä–æ–≤–µ—Ä—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–∞—Ö –≤—É–∑–æ–≤.</div>`;
    }

    // –°–æ–±–∏—Ä–∞–µ–º —Ç–µ–∫—Å—Ç –æ—Ç—á—ë—Ç–∞ (–∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ —á–∏—Å—Ç–∏–º –ª–∏—à–Ω–∏–µ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏)
    // const reportText = buildReportText(scores, interp) + "--- –ï–ì–≠ (–ø–æ–¥—Å–∫–∞–∑–∫–∞) ---" + (egeText && egeText.innerText ? egeText.innerText.replace(/{3,}/g, "") : '') + "";
    const reportText = buildReportText(scores, interp) + "--- –ï–ì–≠ (–ø–æ–¥—Å–∫–∞–∑–∫–∞) ---" + (egeText && egeText.innerText ? egeText.innerText : '') + "";

    reportEl.value = reportText;

    testCard.classList.add('hidden');
    resultCard.classList.remove('hidden');
    window.scrollTo({top:0,behavior:'smooth'});
  }

  btnResult.addEventListener('click', showResults);
  btnReset.addEventListener('click', resetAll);
  btnBack.addEventListener('click', () => {
    resultCard.classList.add('hidden');
    testCard.classList.remove('hidden');
    window.scrollTo({top:0,behavior:'smooth'});
  });

  btnCopy.addEventListener('click', async () => {
    try{
      await navigator.clipboard.writeText(reportEl.value);
      copyHint.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ üëç';
      setTimeout(()=>copyHint.textContent='', 1500);
    }catch(e){
      copyHint.textContent = '–ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ‚Äî –≤—ã–¥–µ–ª–∏ —Ç–µ–∫—Å—Ç –∏ –Ω–∞–∂–º–∏ Ctrl+C';
    }
  });
</script>
</body>
</html>
